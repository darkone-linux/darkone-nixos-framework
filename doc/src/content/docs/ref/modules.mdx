---
title: Modules
sidebar:
  order: 1
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

## Macro modules

:::note
**A macro module** enables a collection of modules and a thematic configuration.
:::

### &#x1F4E6; darkone.host.desktop

A full desktop configuration with gnome, multimedia and office tools.

* **enable** `false` Desktop optimized host configuration (bool)
```nix
darkone.host.desktop.enable = false;

```

<hr/>

### &#x1F4E6; darkone.host.gateway

The gateway / NAS of local network.

* **enable** `false` Enable gateway features for the current host (dhcp, dns, proxy, etc.). (bool)
* **enableForgejo** `false` Enable pre-configured forgejo git forge service. (bool)
* **enableNcps** `true` Enable the proxy cache for packages (bool)
```nix
darkone.host.gateway = {
  enable = false;
  enableForgejo = false;
  enableNcps = true;
}

```

<hr/>

### &#x1F4E6; darkone.host.laptop

Desktop config + laptop specific tools & configuration.

* **enable** `false` Laptop optimized host configuration (bool)
```nix
darkone.host.laptop.enable = false;

```

<hr/>

### &#x1F4E6; darkone.host.minimal

All host configuration is based on this minimal config.

* **enable** `false` Minimal host configuration (bool)
* **secure** `false` Prefer more secure options (bool)
```nix
darkone.host.minimal = {
  enable = false;
  secure = false;
}

```

<hr/>

### &#x1F4E6; darkone.host.portable

Portable configuration for usb keys (wip).

* **enable** `false` Portable host configuration for usb keys (bool)
```nix
darkone.host.portable.enable = false;

```

<hr/>

### &#x1F4E6; darkone.host.server

Configuration for servers: no sleep, systemd conf improved.

* **enable** `false` Server host minimal configuration (bool)
* **enableWatchdog** `true` Enable systemd watchdog (bool)
```nix
darkone.host.server = {
  enable = false;
  enableWatchdog = true;
}

```

<hr/>

### &#x1F4E6; darkone.host.start-img

Start image for new hosts (used for iso generation).

* **enable** `false` Start minimal iso image (bool)
```nix
darkone.host.start-img.enable = false;

```

<hr/>

### &#x1F4E6; darkone.host.vm

Virtual machines guest tools.

* **enableVirtualbox** `false` Virtualbox client (bool)
* **enableXen** `false` Xen client (bool)
```nix
darkone.host.vm = {
  enableVirtualbox = false;
  enableXen = false;
}

```

<hr/>

### &#x1F4E6; darkone.theme.advanced

Profile for advanced users (computer scientists, developers, admins).

* **enable** `false` Advanced user (admin sys, developper) (bool)
```nix
darkone.theme.advanced.enable = false;

```

<hr/>

### &#x1F4E6; darkone.theme.children

Features for childs and babies.

* **enable** `false` Children softwares (bool)
```nix
darkone.theme.children.enable = false;

```

<hr/>

### &#x1F4E6; darkone.theme.office

Graphic environment with office softwares.

* **enable** `false` Graphic environment with office softwares (bool)
```nix
darkone.theme.office.enable = false;

```

<hr/>

### &#x1F4E6; darkone.theme.teenager

Features for teenagers.

* **enable** `false` Teenager softwares (bool)
```nix
darkone.theme.teenager.enable = false;

```

<hr/>



## Standard modules

:::note
**A standard module** enables a feature with one or several packages + a configuration.
:::

### &#x1F48E; darkone.admin.nix

NixOS configuration for the local LAN administrator.

* **enable** `false` Enable NIX configuration builder tools (bool)
* **enableNh** `false` Enable nix helper (nh) management tool (bool)
```nix
darkone.admin.nix = {
  enable = false;
  enableNh = false;
}

```

<hr/>

### &#x1F48E; darkone.console.git

A pre-configured git environment.

* **enable** `false` Pre-configured git environment (bool)
```nix
darkone.console.git.enable = false;

```

<hr/>

### &#x1F48E; darkone.console.packages

Some useful packages:

* **Base**: vim, less, zip, unzip
* **Additional**: findutils, fzf, git, htop, neofetch, ranger, tree, wget...

* **enable** `false` Useful base packages (bool)
* **enableAdditional** `false` Useful additional packages (bool)
```nix
darkone.console.packages = {
  enable = false;
  enableAdditional = false;
}

```

<hr/>

### &#x1F48E; darkone.console.pandoc

Pandoc with texlive and exiftool utils + gentium fonts.

* **enable** `false` Pre-configured pandoc environment (bool)
```nix
darkone.console.pandoc.enable = false;

```

<hr/>

### &#x1F48E; darkone.console.zsh

A full zsh installation with aliases and bindkeys.

* **enable** `false` ZSH environment (bool)
```nix
darkone.console.zsh.enable = false;

```

<hr/>

### &#x1F48E; darkone.graphic.education

Graphical & education packages for kids (obsolete).

* **enable** `false` Default useful packages (bool)
* **enableBaby** `false` Sofwares for childs &lt;= 6-8 yo (bool)
* **enableTeenager** `false` Sofwares for childs &gt;= 12-14 yo (bool)
* **enableGames** `false` Additional games packages (bool)
```nix
darkone.graphic.education = {
  enable = false;
  enableBaby = false;
  enableTeenager = false;
  enableGames = false;
}

```

<hr/>

### &#x1F48E; darkone.graphic.gnome

Pre-configured gnome environment with dependences (auto xserver activation).

* **enable** `false` Pre-configured gnome WM (bool)
* **enableDashToDock** `false` Dash to dock plugin (bool)
* **enableGDM** `false` Enable GDM instead of LightDM (bool)
* **enableCaffeine** `false` Disable auto-suspend (bool)
* **enableGsConnect** `false` Communication with devices (bool)
* **xkbVariant** `latin1` Keyboard variant. Layout is extracted from console keymap. (str)
```nix
darkone.graphic.gnome = {
  enable = false;
  enableDashToDock = false;
  enableGDM = false;
  enableCaffeine = false;
  enableGsConnect = false;
  xkbVariant = "latin1";
}

```

<hr/>

### &#x1F48E; darkone.graphic.imagery

Gimp, geeqie, pinta + blender, inkscape, krita.

* **enable** `false` Imagery creation (bool)
* **enablePro** `false` Image softwares for pros (bool)
```nix
darkone.graphic.imagery = {
  enable = false;
  enablePro = false;
}

```

<hr/>

### &#x1F48E; darkone.graphic.music

Several packages to create music.

* **enable** `false` Music creation module (bool)
* **enablePro** `false` Music creation softwares for pros (wip) (bool)
```nix
darkone.graphic.music = {
  enable = false;
  enablePro = false;
}

```

<hr/>

### &#x1F48E; darkone.graphic.obsidian

Preconfigured obsidian installation.

* **enable** `false` Default useful packages (bool)
```nix
darkone.graphic.obsidian.enable = false;

```

<hr/>

### &#x1F48E; darkone.graphic.office

Common office tools for office desktop.

* **enable** `false` Default useful packages (bool)
* **enableLibreOffice** `true` Office packages (libreoffice) (bool)
* **enableInternet** `true` Internet packages (firefox) (bool)
* **enableEmail** `true` Email management packages (thunderbird) (bool)
```nix
darkone.graphic.office = {
  enable = false;
  enableLibreOffice = true;
  enableInternet = true;
  enableEmail = true;
}

```

<hr/>

### &#x1F48E; darkone.graphic.video

Video tools.

* **enable** `false` Video creation (kdenlive...) (bool)
* **enablePro** `false` Video softwares for pros (bool)
```nix
darkone.graphic.video = {
  enable = false;
  enablePro = false;
}

```

<hr/>

### &#x1F48E; darkone.graphic.virt-manager

Virt manager + viewer with spice, win-virtio and ovmf.

* **enable** `false` Virt manager with dependencies (bool)
```nix
darkone.graphic.virt-manager.enable = false;

```

<hr/>

### &#x1F48E; darkone.graphic.virtualbox

Virtualbox host installation.

* **enable** `false` Pre-configured virtualbox installation (bool)
* **enableExtensionPack** `false` Enable extension pack (causes recompilations) (bool)
```nix
darkone.graphic.virtualbox = {
  enable = false;
  enableExtensionPack = false;
}

```

<hr/>

### &#x1F48E; darkone.service.audio

Audio services: alsa, pulse (not jack for the moment).

* **enable** `false` Enable sound system (bool)
```nix
darkone.service.audio.enable = false;

```

<hr/>

### &#x1F48E; darkone.service.dnsmasq

Pre-configured dnsmasq for local gateway / router.

* **enable** `false` Enable local dnsmasq service (bool)
```nix
darkone.service.dnsmasq.enable = false;

```

<hr/>

### &#x1F48E; darkone.service.forgejo

Forgejo (git forge) full-configured service.

* **enable** `false` Enable local forgejo service (bool)
* **domainName** `forgejo` Domain name for the forge, registered in forgejo, nginx &amp; hosts. (str)
```nix
darkone.service.forgejo = {
  enable = false;
  domainName = "forgejo";
}

```

<hr/>

### &#x1F48E; darkone.service.home-assistant

A Home Assistant with some plugins.

* **enable** `false` Enable home assitant (bool)
```nix
darkone.service.home-assistant.enable = false;

```

<hr/>

### &#x1F48E; darkone.service.httpd

Httpd (apache) server with PHP84.

* **enable** `false` Enable httpd (apache) (bool)
```nix
darkone.service.httpd.enable = false;

```

<hr/>

### &#x1F48E; darkone.service.ncps

Nix cache proxy with NCPS module.

* **enable** `false` Enable nix cache proxy for packages (bool)
* **dataPath** `/var/cache/ncps` Nix cache proxy cache folder (path)
* **extraOptions** `{ }` services.ncps extra options (attrs)
```nix
darkone.service.ncps = {
  enable = false;
  dataPath = /var/cache/ncps;
  extraOptions = { };
}

```

<hr/>

### &#x1F48E; darkone.service.printing

Printers and scanners.

* **enable** `false` Default useful packages (bool)
* **loadAll** `false` Full printers and scanners (bool)
* **enableScanners** `false` Enable scanners (bool)
* **enableHpPrinters** `false` HP printers (bool)
* **enableManualInstall** `false` Manual installation (bool)
```nix
darkone.service.printing = {
  enable = false;
  loadAll = true;
  enableScanners = true;
  enableHpPrinters = true;
  enableManualInstall = true;
}

```

<hr/>

### &#x1F48E; darkone.system.core

The core DNF module.

:::caution
This module is enabled by default (required by DNF configuration).
:::

* **enable** `true` Darkone framework core system (activated by default) (bool)
* **enableSystemdBoot** `true` Enable the default boot loader (bool)
* **enableFstrim** `true` SSD optimisation with fstrim (bool)
* **enableFirewall** `true` Enable firewall (default true) (bool)
* **enableBoost** `false` Enable overclocking, corectl (bool)
```nix
darkone.system.core = {
  enable = true;
  enableSystemdBoot = true;
  enableFstrim = true;
  enableFirewall = true;
  enableBoost = false;
}

```

<hr/>

### &#x1F48E; darkone.system.documentation

Documentation (man) for developers and admins.

* **enable** `false` Enable useful technical documentation (man, nixos) (bool)
```nix
darkone.system.documentation.enable = false;

```

<hr/>

### &#x1F48E; darkone.system.hardware

Hardware configuration improvements.

* **enable** `false` Enable hardware optimisations (bool)
* **enableIntel** `false` Enable intel microcode updates (bool)
* **enableAmd** `false` Enable amd microcode updates (bool)
```nix
darkone.system.hardware = {
  enable = false;
  enableIntel = false;
  enableAmd = false;
}

```

<hr/>

### &#x1F48E; darkone.system.i18n

Location and lang configuration.

* **enable** `false` Enable i18n with network configuration by default (bool)
* **locale** `${network.locale}` Network locale (str)
* **timeZone** `${network.timezone}` Network time zone (str)
```nix
darkone.system.i18n = {
  enable = false;
  locale = "fr_FR.UTF-8";
  timeZone = "Europe/Paris";
}

```

<hr/>

### &#x1F48E; darkone.user.build

Build users from DNF configuration.

:::caution
This module is enabled by default (required by DNF configuration).
:::

* **enable** `true` Users common builder (enabled by default) (bool)
```nix
darkone.user.build.enable = true;

```

<hr/>



## Home Manager modules

:::note
**A home manager module** works with [home manager](https://github.com/nix-community/home-manager) profiles.
:::

### &#x1F3E0; darkone.home.zed

* **enable** `false` Preconfigured ZED editor (bool)
```nix
darkone.home.zed.enable = false;

```

<hr/>

